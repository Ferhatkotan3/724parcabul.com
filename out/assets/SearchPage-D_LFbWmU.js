import{c as j,u as f,r as n,j as e,L as p}from"./index-B45Pq7U6.js";import{P as w,m as N}from"./products-C_o-9r8E.js";import{L as v}from"./LoadingSpinner-Dvr4TF5D.js";function $(){const[h]=j(),{isDarkMode:r}=f(),[c,u]=n.useState([]),[g,o]=n.useState(!0),[m,b]=n.useState("relevance"),t=h.get("q")||"";return n.useEffect(()=>{(()=>{if(o(!0),!t.trim()){u([]),o(!1);return}let i=[...N.filter(a=>{const s=t.toLowerCase().trim(),x=a.name.toLowerCase(),d=a.part_code?.toLowerCase()||"",y=a.description.toLowerCase();return x.includes(s)||d.includes(s)||y.includes(s)||d.replace(/[-\s]/g,"").includes(s.replace(/[-\s]/g,""))})];switch(m){case"price-low":i.sort((a,s)=>a.price-s.price);break;case"price-high":i.sort((a,s)=>s.price-a.price);break;case"name":i.sort((a,s)=>a.name.localeCompare(s.name,"tr"));break;case"newest":i.sort((a,s)=>new Date(s.created_at).getTime()-new Date(a.created_at).getTime());break;default:i.sort((a,s)=>{const x=a.name.toLowerCase().includes(t.toLowerCase())?1:0;return(s.name.toLowerCase().includes(t.toLowerCase())?1:0)-x})}u(i),o(!1)})()},[t,m]),g?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(v,{})}):e.jsx("div",{className:`min-h-screen ${r?"bg-gray-900":"bg-gray-50"}`,children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:`text-2xl font-bold mb-2 ${r?"text-white":"text-gray-900"}`,children:"Arama Sonuçları"}),t&&e.jsxs("p",{className:`text-sm ${r?"text-gray-300":"text-gray-600"}`,children:['"',e.jsx("span",{className:"font-medium",children:t}),'" için ',c.length," sonuç bulundu"]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("span",{className:`text-sm font-medium ${r?"text-gray-300":"text-gray-700"}`,children:"Filtreler:"}),e.jsx("button",{className:"px-3 py-1 text-xs bg-blue-100 text-blue-800 rounded-full hover:bg-blue-200 cursor-pointer whitespace-nowrap",children:"Tüm Kategoriler"}),e.jsx("button",{className:"px-3 py-1 text-xs bg-gray-100 text-gray-700 rounded-full hover:bg-gray-200 cursor-pointer whitespace-nowrap",children:"Stokta Var"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`text-sm ${r?"text-gray-300":"text-gray-700"}`,children:"Sırala:"}),e.jsxs("select",{value:m,onChange:l=>b(l.target.value),className:`px-3 py-1 text-sm border rounded-lg pr-8 cursor-pointer ${r?"bg-gray-800 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"} focus:ring-2 focus:ring-blue-500 focus:border-transparent`,children:[e.jsx("option",{value:"relevance",children:"İlgili"}),e.jsx("option",{value:"price-low",children:"Fiyat (Düşük-Yüksek)"}),e.jsx("option",{value:"price-high",children:"Fiyat (Yüksek-Düşük)"}),e.jsx("option",{value:"name",children:"İsim (A-Z)"}),e.jsx("option",{value:"newest",children:"En Yeni"})]})]})]}),c.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:c.map(l=>e.jsx(w,{product:l},l.id))}):t?e.jsxs("div",{className:`text-center py-12 ${r?"text-gray-300":"text-gray-600"}`,children:[e.jsx("i",{className:"ri-search-line text-4xl mb-4 opacity-50"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Sonuç bulunamadı"}),e.jsxs("p",{className:"text-sm mb-4",children:['"',e.jsx("span",{className:"font-medium",children:t}),'" için hiçbir ürün bulunamadı.']}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsx("p",{children:"Öneriler:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-left max-w-md mx-auto",children:[e.jsx("li",{children:"Yazım hatası olup olmadığını kontrol edin"}),e.jsx("li",{children:"Daha genel terimler kullanın"}),e.jsx("li",{children:"Parça kodunu tam olarak yazın"}),e.jsx("li",{children:"Farklı anahtar kelimeler deneyin"})]})]}),e.jsx(p,{to:"/categories",className:"inline-block mt-6 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer whitespace-nowrap",children:"Kategorilere Göz At"})]}):e.jsxs("div",{className:`text-center py-12 ${r?"text-gray-300":"text-gray-600"}`,children:[e.jsx("i",{className:"ri-search-line text-4xl mb-4 opacity-50"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Arama yapın"}),e.jsx("p",{className:"text-sm",children:"Parça kodu, ürün adı veya kategori ile arama yapabilirsiniz."})]}),!t&&e.jsxs("div",{className:"mt-12",children:[e.jsx("h2",{className:`text-lg font-semibold mb-4 ${r?"text-white":"text-gray-900"}`,children:"Popüler Aramalar"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["motor parçası","fren balata","amortisör","alternatör","hava filtresi","motor yağı","fren diski","lastik"].map(l=>e.jsx(p,{to:`/search?q=${encodeURIComponent(l)}`,className:`px-4 py-2 text-sm rounded-lg border cursor-pointer whitespace-nowrap ${r?"border-gray-600 text-gray-300 hover:bg-gray-800":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:l},l))})]})]})})}export{$ as default};
//# sourceMappingURL=SearchPage-D_LFbWmU.js.map
