{"version":3,"file":"AccountPage-B4z_vUjA.js","sources":["../../src/pages/account/AccountPage.tsx"],"sourcesContent":["\nimport { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useStore } from '../../store/useStore';\nimport { useForm } from 'react-hook-form';\nimport { zodResolver } from '@hookform/resolvers/zod';\nimport { z } from 'zod';\nimport toast from 'react-hot-toast';\n\nconst profileSchema = z.object({\n  full_name: z.string().min(2, 'Ad soyad en az 2 karakter olmalıdır'),\n  email: z.string().email('Geçerli bir e-posta adresi girin'),\n  phone: z.string().optional(),\n  address: z.string().optional(),\n});\n\ntype ProfileForm = z.infer<typeof profileSchema>;\n\nexport default function AccountPage() {\n  const { isDarkMode, user, setUser } = useStore();\n  const [isEditing, setIsEditing] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n    reset,\n  } = useForm<ProfileForm>({\n    resolver: zodResolver(profileSchema),\n    defaultValues: {\n      full_name: user?.full_name || '',\n      email: user?.email || '',\n      phone: '',\n      address: '',\n    },\n  });\n\n  const onSubmit = async (data: ProfileForm) => {\n    setIsLoading(true);\n    try {\n      // Simulate API call delay\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      \n      // Update user data\n      if (user) {\n        setUser({\n          ...user,\n          full_name: data.full_name,\n          email: data.email,\n        });\n      }\n\n      toast.success('Profil bilgileriniz güncellendi');\n      setIsEditing(false);\n    } catch (error: any) {\n      toast.error(error.message || 'Profil güncellenirken hata oluştu');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleCancel = () => {\n    reset();\n    setIsEditing(false);\n  };\n\n  if (!user) {\n    return (\n      <div className={`min-h-screen ${isDarkMode ? 'bg-gray-900' : 'bg-white'} py-8`}>\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"text-center\">\n            <h1 className={`text-2xl font-bold ${isDarkMode ? 'text-white' : 'text-gray-900'} mb-4`}>\n              Giriş Yapmanız Gerekiyor\n            </h1>\n            <p className={`text-lg ${isDarkMode ? 'text-gray-400' : 'text-gray-600'} mb-8`}>\n              Hesap bilgilerinizi görüntülemek için giriş yapın\n            </p>\n            <Link\n              to=\"/login\"\n              className=\"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 cursor-pointer whitespace-nowrap\"\n            >\n              Giriş Yap\n            </Link>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={`min-h-screen ${isDarkMode ? 'bg-gray-900' : 'bg-white'} py-8`}>\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div className=\"mb-8\">\n          <h1 className={`text-3xl font-bold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>\n            Hesabım\n          </h1>\n          <p className={`mt-2 ${isDarkMode ? 'text-gray-400' : 'text-gray-600'}`}>\n            Profil bilgilerinizi yönetin\n          </p>\n        </div>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n          {/* Sidebar */}\n          <div className=\"lg:col-span-1\">\n            <div className={`p-6 rounded-lg border ${isDarkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'}`}>\n              <div className=\"text-center mb-6\">\n                <div className=\"w-20 h-20 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-4\">\n                  <i className=\"ri-user-line text-white text-2xl\"></i>\n                </div>\n                <h3 className={`text-lg font-semibold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>\n                  {user.full_name || user.email}\n                </h3>\n                <p className={`text-sm ${isDarkMode ? 'text-gray-400' : 'text-gray-600'}`}>\n                  {user.role === 'admin' ? 'Yönetici' : 'Müşteri'}\n                </p>\n              </div>\n\n              <nav className=\"space-y-2\">\n                <button className={`w-full text-left px-4 py-2 rounded-lg ${isDarkMode ? 'bg-blue-600 text-white' : 'bg-blue-50 text-blue-600'}`}>\n                  <i className=\"ri-user-line mr-2\"></i>\n                  Profil Bilgileri\n                </button>\n                <Link\n                  to=\"/orders\"\n                  className={`block px-4 py-2 rounded-lg transition-colors cursor-pointer whitespace-nowrap ${isDarkMode ? 'text-gray-300 hover:bg-gray-700' : 'text-gray-700 hover:bg-gray-100'}`}\n                >\n                  <i className=\"ri-file-list-line mr-2\"></i>\n                  Siparişlerim\n                </Link>\n                <Link\n                  to=\"/cart\"\n                  className={`block px-4 py-2 rounded-lg transition-colors cursor-pointer whitespace-nowrap ${isDarkMode ? 'text-gray-300 hover:bg-gray-700' : 'text-gray-700 hover:bg-gray-100'}`}\n                >\n                  <i className=\"ri-shopping-cart-line mr-2\"></i>\n                  Sepetim\n                </Link>\n                {user.role === 'admin' && (\n                  <Link\n                    to=\"/admin\"\n                    className={`block px-4 py-2 rounded-lg transition-colors cursor-pointer whitespace-nowrap ${isDarkMode ? 'text-gray-300 hover:bg-gray-700' : 'text-gray-700 hover:bg-gray-100'}`}\n                  >\n                    <i className=\"ri-admin-line mr-2\"></i>\n                    Admin Panel\n                  </Link>\n                )}\n              </nav>\n            </div>\n          </div>\n\n          {/* Main Content */}\n          <div className=\"lg:col-span-2\">\n            <div className={`p-6 rounded-lg border ${isDarkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'}`}>\n              <div className=\"flex justify-between items-center mb-6\">\n                <h2 className={`text-xl font-semibold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>\n                  Profil Bilgileri\n                </h2>\n                {!isEditing && (\n                  <button\n                    onClick={() => setIsEditing(true)}\n                    className=\"px-4 py-2 text-sm font-medium text-blue-600 bg-blue-50 rounded-lg hover:bg-blue-100 cursor-pointer whitespace-nowrap\"\n                  >\n                    <i className=\"ri-edit-line mr-2\"></i>\n                    Düzenle\n                  </button>\n                )}\n              </div>\n\n              <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-6\">\n                <div>\n                  <label className={`block text-sm font-medium ${isDarkMode ? 'text-white' : 'text-gray-700'} mb-2`}>\n                    Ad Soyad\n                  </label>\n                  <input\n                    {...register('full_name')}\n                    type=\"text\"\n                    disabled={!isEditing}\n                    className={`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${\n                      isDarkMode \n                        ? 'bg-gray-700 border-gray-600 text-white' \n                        : 'bg-white border-gray-300 text-gray-900'\n                    } ${!isEditing ? 'cursor-not-allowed opacity-60' : ''} ${errors.full_name ? 'border-red-500' : ''}`}\n                  />\n                  {errors.full_name && (\n                    <p className=\"mt-1 text-sm text-red-600\">{errors.full_name.message}</p>\n                  )}\n                </div>\n\n                <div>\n                  <label className={`block text-sm font-medium ${isDarkMode ? 'text-white' : 'text-gray-700'} mb-2`}>\n                    E-posta Adresi\n                  </label>\n                  <input\n                    {...register('email')}\n                    type=\"email\"\n                    disabled={!isEditing}\n                    className={`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${\n                      isDarkMode \n                        ? 'bg-gray-700 border-gray-600 text-white' \n                        : 'bg-white border-gray-300 text-gray-900'\n                    } ${!isEditing ? 'cursor-not-allowed opacity-60' : ''} ${errors.email ? 'border-red-500' : ''}`}\n                  />\n                  {errors.email && (\n                    <p className=\"mt-1 text-sm text-red-600\">{errors.email.message}</p>\n                  )}\n                </div>\n\n                <div>\n                  <label className={`block text-sm font-medium ${isDarkMode ? 'text-white' : 'text-gray-700'} mb-2`}>\n                    Telefon\n                  </label>\n                  <input\n                    {...register('phone')}\n                    type=\"tel\"\n                    disabled={!isEditing}\n                    placeholder=\"+90 555 123 4567\"\n                    className={`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${\n                      isDarkMode \n                        ? 'bg-gray-700 border-gray-600 text-white' \n                        : 'bg-white border-gray-300 text-gray-900'\n                    } ${!isEditing ? 'cursor-not-allowed opacity-60' : ''}`}\n                  />\n                </div>\n\n                <div>\n                  <label className={`block text-sm font-medium ${isDarkMode ? 'text-white' : 'text-gray-700'} mb-2`}>\n                    Adres\n                  </label>\n                  <textarea\n                    {...register('address')}\n                    rows={3}\n                    disabled={!isEditing}\n                    placeholder=\"Teslimat adresinizi girin\"\n                    className={`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${\n                      isDarkMode \n                        ? 'bg-gray-700 border-gray-600 text-white' \n                        : 'bg-white border-gray-300 text-gray-900'\n                    } ${!isEditing ? 'cursor-not-allowed opacity-60' : ''}`}\n                  />\n                </div>\n\n                {isEditing && (\n                  <div className=\"flex justify-end space-x-3\">\n                    <button\n                      type=\"button\"\n                      onClick={handleCancel}\n                      className={`px-4 py-2 text-sm font-medium border rounded-lg cursor-pointer whitespace-nowrap ${isDarkMode ? 'border-gray-600 text-gray-300 hover:bg-gray-700' : 'border-gray-300 text-gray-700 hover:bg-gray-50'}`}\n                    >\n                      İptal\n                    </button>\n                    <button\n                      type=\"submit\"\n                      disabled={isLoading}\n                      className={`px-4 py-2 text-sm font-medium text-white rounded-lg cursor-pointer whitespace-nowrap ${\n                        isLoading\n                          ? 'bg-gray-400 cursor-not-allowed'\n                          : 'bg-blue-600 hover:bg-blue-700'\n                      }`}\n                    >\n                      {isLoading ? (\n                        <>\n                          <i className=\"ri-loader-4-line animate-spin mr-2\"></i>\n                          Kaydediliyor...\n                        </>\n                      ) : (\n                        'Kaydet'\n                      )}\n                    </button>\n                  </div>\n                )}\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":["profileSchema","z.object","z.string","AccountPage","isDarkMode","user","setUser","useStore","isEditing","setIsEditing","useState","isLoading","setIsLoading","register","handleSubmit","errors","reset","useForm","zodResolver","onSubmit","data","resolve","toast","error","handleCancel","jsx","jsxs","Link","Fragment"],"mappings":"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"}