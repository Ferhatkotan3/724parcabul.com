import{b as j,u as b,r as l,s as p,z as i,j as e,L as x}from"./index-B45Pq7U6.js";function f(){const{id:c}=j(),{isDarkMode:t,addToCart:o}=b(),[s,m]=l.useState(null),[r,n]=l.useState(1),[g,h]=l.useState(!0);l.useEffect(()=>{c&&u()},[c]);const u=async()=>{try{const{data:a,error:d}=await p.from("products").select("*").eq("id",c).single();if(d)throw d;m(a)}catch(a){console.error("Error fetching product:",a),i.error("Ürün bulunamadı")}finally{h(!1)}},y=()=>{if(s){if(s.stock<=0){i.error("Bu ürün stokta bulunmuyor");return}if(r>s.stock){i.error("Stok miktarından fazla ürün seçemezsiniz");return}for(let a=0;a<r;a++)o({id:s.id,part_code:s.part_code,name:s.name,price:s.price,image_url:s.image_url,stock:s.stock});i.success(`${r} adet ürün sepete eklendi`)}};return g?e.jsx("div",{className:`min-h-screen ${t?"bg-gray-900":"bg-white"} py-8`,children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"animate-pulse",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx("div",{className:"aspect-square bg-gray-300 rounded-lg"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-8 bg-gray-300 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/4"}),e.jsx("div",{className:"h-6 bg-gray-300 rounded w-1/3"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-300 rounded"}),e.jsx("div",{className:"h-4 bg-gray-300 rounded w-5/6"}),e.jsx("div",{className:"h-4 bg-gray-300 rounded w-4/6"})]})]})]})})})}):s?e.jsx("div",{className:`min-h-screen ${t?"bg-gray-900":"bg-white"} py-8`,children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("nav",{className:"mb-8",children:e.jsxs("ol",{className:"flex items-center space-x-2 text-sm",children:[e.jsx("li",{children:e.jsx(x,{to:"/",className:`${t?"text-gray-400 hover:text-white":"text-gray-500 hover:text-gray-900"}`,children:"Ana Sayfa"})}),e.jsx("li",{children:e.jsx("i",{className:`ri-arrow-right-s-line ${t?"text-gray-400":"text-gray-500"}`})}),e.jsx("li",{children:e.jsx(x,{to:"/products",className:`${t?"text-gray-400 hover:text-white":"text-gray-500 hover:text-gray-900"}`,children:"Ürünler"})}),e.jsx("li",{children:e.jsx("i",{className:`ri-arrow-right-s-line ${t?"text-gray-400":"text-gray-500"}`})}),e.jsx("li",{className:`${t?"text-white":"text-gray-900"} font-medium`,children:s.name})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx("div",{className:"aspect-square overflow-hidden rounded-lg",children:e.jsx("img",{src:s.image_url,alt:s.name,className:"w-full h-full object-cover object-top"})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("span",{className:`inline-block text-sm font-medium px-3 py-1 rounded-full ${t?"bg-blue-900 text-blue-200":"bg-blue-100 text-blue-800"} mb-4`,children:s.part_code}),e.jsx("h1",{className:`text-3xl font-bold ${t?"text-white":"text-gray-900"} mb-4`,children:s.name}),e.jsx("p",{className:`text-lg ${t?"text-gray-300":"text-gray-600"} mb-6`,children:s.description})]}),e.jsxs("div",{className:"border-t border-b py-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("span",{className:`text-3xl font-bold ${t?"text-white":"text-gray-900"}`,children:["₺",s.price.toLocaleString("tr-TR")]}),e.jsx("div",{className:`text-sm ${s.stock>0?"text-green-600":"text-red-600"}`,children:s.stock>0?`${s.stock} adet stokta`:"Stokta yok"})]}),s.stock>0&&e.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[e.jsx("label",{className:`text-sm font-medium ${t?"text-white":"text-gray-900"}`,children:"Miktar:"}),e.jsxs("div",{className:"flex items-center border rounded-lg",children:[e.jsx("button",{onClick:()=>n(Math.max(1,r-1)),className:`px-3 py-2 ${t?"text-gray-300 hover:text-white hover:bg-gray-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:e.jsx("i",{className:"ri-subtract-line"})}),e.jsx("input",{type:"number",min:"1",max:s.stock,value:r,onChange:a=>n(Math.min(s.stock,Math.max(1,parseInt(a.target.value)||1))),className:`w-16 text-center py-2 border-0 ${t?"bg-gray-800 text-white":"bg-white text-gray-900"} focus:ring-0`}),e.jsx("button",{onClick:()=>n(Math.min(s.stock,r+1)),className:`px-3 py-2 ${t?"text-gray-300 hover:text-white hover:bg-gray-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:e.jsx("i",{className:"ri-add-line"})})]})]}),e.jsxs("button",{onClick:y,disabled:s.stock<=0,className:`w-full py-3 px-6 rounded-lg font-medium transition-colors ${s.stock>0?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[e.jsx("i",{className:"ri-shopping-cart-line mr-2"}),s.stock>0?"Sepete Ekle":"Stokta Yok"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:`text-lg font-semibold ${t?"text-white":"text-gray-900"}`,children:"Ürün Özellikleri"}),e.jsxs("ul",{className:`space-y-2 text-sm ${t?"text-gray-300":"text-gray-600"}`,children:[e.jsxs("li",{className:"flex items-center",children:[e.jsx("i",{className:"ri-check-line text-green-500 mr-2"}),"Orijinal kalitede üretim"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("i",{className:"ri-check-line text-green-500 mr-2"}),"2 yıl garanti"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("i",{className:"ri-check-line text-green-500 mr-2"}),"Hızlı teslimat"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("i",{className:"ri-check-line text-green-500 mr-2"}),"Ücretsiz kargo (500₺ üzeri)"]})]})]})]})]})]})}):e.jsx("div",{className:`min-h-screen ${t?"bg-gray-900":"bg-white"} py-8`,children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("h1",{className:`text-2xl font-bold ${t?"text-white":"text-gray-900"} mb-4`,children:"Ürün Bulunamadı"}),e.jsx(x,{to:"/",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700",children:"Ana Sayfaya Dön"})]})})}export{f as default};
//# sourceMappingURL=ProductDetailPage-B4fsKBzp.js.map
