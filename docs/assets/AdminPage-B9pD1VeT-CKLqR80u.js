import{G as N,M as b,j as o,x as e,o as w}from"./index-KYK8dnUx.js";function k(){const{user:c,isDarkMode:t}=N(),g=b(),[f,v]=o.useState("orders"),[r,h]=o.useState([]),[a,p]=o.useState(null);o.useEffect(()=>{if(!c||c.role!=="admin"){g("/");return}(()=>{const s=JSON.parse(localStorage.getItem("orders")||"[]");h(s)})()},[c,g]);const l=(s,i)=>{const m=r.map(x=>x.id===s?{...x,status:i,updatedAt:new Date().toISOString()}:x);h(m),localStorage.setItem("orders",JSON.stringify(m)),a&&a.id===s&&p({...a,status:i}),w.success("Sipariş durumu güncellendi")},u=s=>{const i={preparing:{label:"Hazırlanıyor",color:"bg-yellow-100 text-yellow-800",icon:"ri-time-line"},shipped:{label:"Kargoda",color:"bg-blue-100 text-blue-800",icon:"ri-truck-line"},delivered:{label:"Teslim Edildi",color:"bg-green-100 text-green-800",icon:"ri-check-line"},cancelled:{label:"İptal Edildi",color:"bg-red-100 text-red-800",icon:"ri-close-line"},returned:{label:"İade Edildi",color:"bg-gray-100 text-gray-800",icon:"ri-arrow-go-back-line"}};return i[s]||i.preparing},n=(()=>{const s=r.length,i=r.filter(d=>d.status==="preparing").length,m=r.filter(d=>d.status==="shipped").length,x=r.filter(d=>d.status==="delivered").length,y=r.reduce((d,j)=>d+j.total,0);return{total:s,preparing:i,shipped:m,delivered:x,totalRevenue:y}})();return!c||c.role!=="admin"?null:e.jsx("div",{className:`min-h-screen ${t?"bg-gray-900":"bg-gray-50"}`,children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:`text-2xl font-bold ${t?"text-white":"text-gray-900"}`,children:"Admin Paneli"}),e.jsx("p",{className:`text-sm mt-1 ${t?"text-gray-400":"text-gray-600"}`,children:"Sipariş yönetimi ve sistem kontrolü"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[e.jsx("div",{className:`p-6 rounded-lg ${t?"bg-gray-800":"bg-white"} shadow-sm`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx("i",{className:"ri-file-list-line text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-500"}`,children:"Toplam Sipariş"}),e.jsx("p",{className:`text-2xl font-bold ${t?"text-white":"text-gray-900"}`,children:n.total})]})]})}),e.jsx("div",{className:`p-6 rounded-lg ${t?"bg-gray-800":"bg-white"} shadow-sm`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:e.jsx("i",{className:"ri-time-line text-yellow-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-500"}`,children:"Hazırlanıyor"}),e.jsx("p",{className:`text-2xl font-bold ${t?"text-white":"text-gray-900"}`,children:n.preparing})]})]})}),e.jsx("div",{className:`p-6 rounded-lg ${t?"bg-gray-800":"bg-white"} shadow-sm`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx("i",{className:"ri-truck-line text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-500"}`,children:"Kargoda"}),e.jsx("p",{className:`text-2xl font-bold ${t?"text-white":"text-gray-900"}`,children:n.shipped})]})]})}),e.jsx("div",{className:`p-6 rounded-lg ${t?"bg-gray-800":"bg-white"} shadow-sm`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx("i",{className:"ri-check-line text-green-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-500"}`,children:"Teslim Edildi"}),e.jsx("p",{className:`text-2xl font-bold ${t?"text-white":"text-gray-900"}`,children:n.delivered})]})]})}),e.jsx("div",{className:`p-6 rounded-lg ${t?"bg-gray-800":"bg-white"} shadow-sm`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx("i",{className:"ri-money-dollar-circle-line text-green-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-500"}`,children:"Toplam Gelir"}),e.jsxs("p",{className:`text-2xl font-bold ${t?"text-white":"text-gray-900"}`,children:[n.totalRevenue.toFixed(2),"₺"]})]})]})})]}),e.jsxs("div",{className:`rounded-lg ${t?"bg-gray-800":"bg-white"} shadow-sm`,children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h2",{className:`text-lg font-semibold ${t?"text-white":"text-gray-900"}`,children:"Sipariş Yönetimi"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:`${t?"bg-gray-700":"bg-gray-50"}`,children:e.jsxs("tr",{children:[e.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${t?"text-gray-300":"text-gray-500"}`,children:"Sipariş No"}),e.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${t?"text-gray-300":"text-gray-500"}`,children:"Müşteri"}),e.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${t?"text-gray-300":"text-gray-500"}`,children:"Tutar"}),e.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${t?"text-gray-300":"text-gray-500"}`,children:"Durum"}),e.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${t?"text-gray-300":"text-gray-500"}`,children:"Tarih"}),e.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${t?"text-gray-300":"text-gray-500"}`,children:"İşlemler"})]})}),e.jsx("tbody",{className:`divide-y ${t?"divide-gray-700":"divide-gray-200"}`,children:r.map(s=>{const i=u(s.status);return e.jsxs("tr",{className:t?"bg-gray-800":"bg-white",children:[e.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm font-medium ${t?"text-white":"text-gray-900"}`,children:s.trackingNumber}),e.jsxs("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${t?"text-gray-300":"text-gray-500"}`,children:[s.shippingAddress.firstName," ",s.shippingAddress.lastName]}),e.jsxs("td",{className:`px-6 py-4 whitespace-nowrap text-sm font-medium ${t?"text-white":"text-gray-900"}`,children:[s.total.toFixed(2),"₺"]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${i.color}`,children:[e.jsx("i",{className:`${i.icon} mr-1`}),i.label]})}),e.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${t?"text-gray-300":"text-gray-500"}`,children:new Date(s.createdAt).toLocaleDateString("tr-TR")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>p(s),className:"text-blue-600 hover:text-blue-900 cursor-pointer whitespace-nowrap",children:e.jsx("i",{className:"ri-eye-line"})}),s.status==="preparing"&&e.jsx("button",{onClick:()=>l(s.id,"shipped"),className:"text-blue-600 hover:text-blue-900 cursor-pointer whitespace-nowrap",title:"Kargoya Ver",children:e.jsx("i",{className:"ri-truck-line"})}),s.status==="shipped"&&e.jsx("button",{onClick:()=>l(s.id,"delivered"),className:"text-green-600 hover:text-green-900 cursor-pointer whitespace-nowrap",title:"Teslim Edildi",children:e.jsx("i",{className:"ri-check-line"})}),(s.status==="preparing"||s.status==="shipped")&&e.jsx("button",{onClick:()=>l(s.id,"cancelled"),className:"text-red-600 hover:text-red-900 cursor-pointer whitespace-nowrap",title:"İptal Et",children:e.jsx("i",{className:"ri-close-line"})}),s.status==="delivered"&&e.jsx("button",{onClick:()=>l(s.id,"returned"),className:"text-gray-600 hover:text-gray-900 cursor-pointer whitespace-nowrap",title:"İade Et",children:e.jsx("i",{className:"ri-arrow-go-back-line"})})]})})]},s.id)})})]})}),r.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("i",{className:`ri-file-list-line text-4xl mb-4 ${t?"text-gray-600":"text-gray-400"}`}),e.jsx("p",{className:`text-lg font-medium mb-2 ${t?"text-gray-300":"text-gray-500"}`,children:"Henüz sipariş yok"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Siparişler geldiğinde burada görünecek"})]})]}),a&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:`max-w-2xl w-full max-h-[90vh] overflow-y-auto rounded-lg ${t?"bg-gray-800":"bg-white"}`,children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h3",{className:`text-lg font-semibold ${t?"text-white":"text-gray-900"}`,children:["Sipariş Detayı - ",a.trackingNumber]}),e.jsx("button",{onClick:()=>p(null),className:`p-2 rounded-lg ${t?"hover:bg-gray-700":"hover:bg-gray-100"}`,children:e.jsx("i",{className:`ri-close-line ${t?"text-gray-400":"text-gray-500"}`})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:`font-medium mb-3 ${t?"text-white":"text-gray-900"}`,children:"Ürünler"}),e.jsx("div",{className:"space-y-3",children:a.items.map(s=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("img",{src:s.image,alt:s.name,className:"w-12 h-12 object-cover rounded-lg"}),e.jsxs("div",{children:[e.jsx("p",{className:`font-medium ${t?"text-white":"text-gray-900"}`,children:s.name}),e.jsxs("p",{className:`text-sm ${t?"text-gray-400":"text-gray-500"}`,children:[s.quantity," adet"]})]})]}),e.jsxs("p",{className:`font-medium ${t?"text-white":"text-gray-900"}`,children:[(s.price*s.quantity).toFixed(2),"₺"]})]},s.id))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:`font-medium mb-3 ${t?"text-white":"text-gray-900"}`,children:"Teslimat Adresi"}),e.jsxs("div",{className:`text-sm ${t?"text-gray-300":"text-gray-600"}`,children:[e.jsxs("p",{className:"font-medium",children:[a.shippingAddress.firstName," ",a.shippingAddress.lastName]}),e.jsx("p",{children:a.shippingAddress.address}),e.jsxs("p",{children:[a.shippingAddress.district,", ",a.shippingAddress.city," ",a.shippingAddress.postalCode]})]})]}),a.notes&&e.jsxs("div",{children:[e.jsx("h4",{className:`font-medium mb-3 ${t?"text-white":"text-gray-900"}`,children:"Sipariş Notu"}),e.jsx("p",{className:`text-sm ${t?"text-gray-300":"text-gray-600"}`,children:a.notes})]}),e.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-200",children:[e.jsx("span",{className:`font-semibold ${t?"text-white":"text-gray-900"}`,children:"Toplam Tutar"}),e.jsxs("span",{className:`font-semibold text-lg ${t?"text-white":"text-gray-900"}`,children:[a.total.toFixed(2),"₺"]})]})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[e.jsx("h4",{className:`font-medium mb-3 ${t?"text-white":"text-gray-900"}`,children:"Sipariş Durumu Değiştir"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.status!=="shipped"&&a.status!=="delivered"&&a.status!=="cancelled"&&e.jsxs("button",{onClick:()=>l(a.id,"shipped"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer whitespace-nowrap text-sm",children:[e.jsx("i",{className:"ri-truck-line mr-1"}),"Kargoya Ver"]}),a.status==="shipped"&&e.jsxs("button",{onClick:()=>l(a.id,"delivered"),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer whitespace-nowrap text-sm",children:[e.jsx("i",{className:"ri-check-line mr-1"}),"Teslim Edildi"]}),(a.status==="preparing"||a.status==="shipped")&&e.jsxs("button",{onClick:()=>l(a.id,"cancelled"),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 cursor-pointer whitespace-nowrap text-sm",children:[e.jsx("i",{className:"ri-close-line mr-1"}),"İptal Et"]}),a.status==="delivered"&&e.jsxs("button",{onClick:()=>l(a.id,"returned"),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 cursor-pointer whitespace-nowrap text-sm",children:[e.jsx("i",{className:"ri-arrow-go-back-line mr-1"}),"İade Et"]})]})]})]})})})]})})}export{k as default};
//# sourceMappingURL=AdminPage-B9pD1VeT-CKLqR80u.js.map
