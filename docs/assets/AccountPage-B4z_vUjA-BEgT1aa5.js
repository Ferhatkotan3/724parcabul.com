import{G as w,j as g,x as e,b as i,o as b}from"./index-KYK8dnUx.js";import{C as j,T as N,O as v,V as o}from"./types-9U6iFWai-B-OiUod_.js";const $=v({full_name:o().min(2,"Ad soyad en az 2 karakter olmalıdır"),email:o().email("Geçerli bir e-posta adresi girin"),phone:o().optional(),address:o().optional()});function S(){const{isDarkMode:r,user:t,setUser:u}=w(),[s,n]=g.useState(!1),[d,c]=g.useState(!1),{register:l,handleSubmit:h,formState:{errors:a},reset:p}=j({resolver:N($),defaultValues:{full_name:t?.full_name||"",email:t?.email||"",phone:"",address:""}}),y=async x=>{c(!0);try{await new Promise(m=>setTimeout(m,1e3)),t&&u({...t,full_name:x.full_name,email:x.email}),b.success("Profil bilgileriniz güncellendi"),n(!1)}catch(m){b.error(m.message||"Profil güncellenirken hata oluştu")}finally{c(!1)}},f=()=>{p(),n(!1)};return t?e.jsx("div",{className:`min-h-screen ${r?"bg-gray-900":"bg-white"} py-8`,children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:`text-3xl font-bold ${r?"text-white":"text-gray-900"}`,children:"Hesabım"}),e.jsx("p",{className:`mt-2 ${r?"text-gray-400":"text-gray-600"}`,children:"Profil bilgilerinizi yönetin"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:`p-6 rounded-lg border ${r?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-20 h-20 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("i",{className:"ri-user-line text-white text-2xl"})}),e.jsx("h3",{className:`text-lg font-semibold ${r?"text-white":"text-gray-900"}`,children:t.full_name||t.email}),e.jsx("p",{className:`text-sm ${r?"text-gray-400":"text-gray-600"}`,children:t.role==="admin"?"Yönetici":"Müşteri"})]}),e.jsxs("nav",{className:"space-y-2",children:[e.jsxs("button",{className:`w-full text-left px-4 py-2 rounded-lg ${r?"bg-blue-600 text-white":"bg-blue-50 text-blue-600"}`,children:[e.jsx("i",{className:"ri-user-line mr-2"}),"Profil Bilgileri"]}),e.jsxs(i,{to:"/orders",className:`block px-4 py-2 rounded-lg transition-colors cursor-pointer whitespace-nowrap ${r?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-100"}`,children:[e.jsx("i",{className:"ri-file-list-line mr-2"}),"Siparişlerim"]}),e.jsxs(i,{to:"/cart",className:`block px-4 py-2 rounded-lg transition-colors cursor-pointer whitespace-nowrap ${r?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-100"}`,children:[e.jsx("i",{className:"ri-shopping-cart-line mr-2"}),"Sepetim"]}),t.role==="admin"&&e.jsxs(i,{to:"/admin",className:`block px-4 py-2 rounded-lg transition-colors cursor-pointer whitespace-nowrap ${r?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-100"}`,children:[e.jsx("i",{className:"ri-admin-line mr-2"}),"Admin Panel"]})]})]})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:`p-6 rounded-lg border ${r?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:`text-xl font-semibold ${r?"text-white":"text-gray-900"}`,children:"Profil Bilgileri"}),!s&&e.jsxs("button",{onClick:()=>n(!0),className:"px-4 py-2 text-sm font-medium text-blue-600 bg-blue-50 rounded-lg hover:bg-blue-100 cursor-pointer whitespace-nowrap",children:[e.jsx("i",{className:"ri-edit-line mr-2"}),"Düzenle"]})]}),e.jsxs("form",{onSubmit:h(y),className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${r?"text-white":"text-gray-700"} mb-2`,children:"Ad Soyad"}),e.jsx("input",{...l("full_name"),type:"text",disabled:!s,className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${r?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"} ${s?"":"cursor-not-allowed opacity-60"} ${a.full_name?"border-red-500":""}`}),a.full_name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.full_name.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${r?"text-white":"text-gray-700"} mb-2`,children:"E-posta Adresi"}),e.jsx("input",{...l("email"),type:"email",disabled:!s,className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${r?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"} ${s?"":"cursor-not-allowed opacity-60"} ${a.email?"border-red-500":""}`}),a.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.email.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${r?"text-white":"text-gray-700"} mb-2`,children:"Telefon"}),e.jsx("input",{...l("phone"),type:"tel",disabled:!s,placeholder:"+90 555 123 4567",className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${r?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"} ${s?"":"cursor-not-allowed opacity-60"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${r?"text-white":"text-gray-700"} mb-2`,children:"Adres"}),e.jsx("textarea",{...l("address"),rows:3,disabled:!s,placeholder:"Teslimat adresinizi girin",className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${r?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"} ${s?"":"cursor-not-allowed opacity-60"}`})]}),s&&e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:f,className:`px-4 py-2 text-sm font-medium border rounded-lg cursor-pointer whitespace-nowrap ${r?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"İptal"}),e.jsx("button",{type:"submit",disabled:d,className:`px-4 py-2 text-sm font-medium text-white rounded-lg cursor-pointer whitespace-nowrap ${d?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:d?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"ri-loader-4-line animate-spin mr-2"}),"Kaydediliyor..."]}):"Kaydet"})]})]})]})})]})]})}):e.jsx("div",{className:`min-h-screen ${r?"bg-gray-900":"bg-white"} py-8`,children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:`text-2xl font-bold ${r?"text-white":"text-gray-900"} mb-4`,children:"Giriş Yapmanız Gerekiyor"}),e.jsx("p",{className:`text-lg ${r?"text-gray-400":"text-gray-600"} mb-8`,children:"Hesap bilgilerinizi görüntülemek için giriş yapın"}),e.jsx(i,{to:"/login",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 cursor-pointer whitespace-nowrap",children:"Giriş Yap"})]})})})}export{S as default};
//# sourceMappingURL=AccountPage-B4z_vUjA-BEgT1aa5.js.map
