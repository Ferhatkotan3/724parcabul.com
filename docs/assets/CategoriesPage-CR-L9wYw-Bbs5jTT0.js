import{G as w,j as s,C as u,x as e}from"./index-KYK8dnUx.js";import{p,l as k}from"./products-C_o-9r8E-bG5aYGXO.js";import{d as C}from"./LoadingSpinner-Dvr4TF5D-BMUkWz4l.js";import{a as b}from"./categories-DFcf9a92-DmG_1b_d.js";function M(){const{isDarkMode:t}=w(),[j,o]=s.useState([]),[d,h]=s.useState([]),[N,f]=s.useState(!0),[c,n]=s.useState("all"),[r,x]=s.useState([0,5e3]),[y,m]=s.useState(!1);s.useEffect(()=>{v()},[]);const v=async()=>{try{const{data:a}=await u.from("categories").select("*"),{data:l}=await u.from("products").select("*");o(a||b),h(l||p)}catch{o(b),h(p)}finally{f(!1)}},g=d.filter(a=>{const l=c==="all"||a.category_id===c,i=a.price>=r[0]&&a.price<=r[1],$=!y||a.stock>0;return l&&i&&$});return N?e.jsx("div",{className:`min-h-screen ${t?"bg-gray-900":"bg-white"} py-8`,children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx(C,{size:"lg",className:"py-20"})})}):e.jsx("div",{className:`min-h-screen ${t?"bg-gray-900":"bg-white"} py-8`,children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:`text-3xl font-bold ${t?"text-white":"text-gray-900"} mb-4`,children:"Kategoriler"}),e.jsx("p",{className:`text-lg ${t?"text-gray-400":"text-gray-600"}`,children:"İhtiyacınız olan yedek parçayı kategorilere göre bulun"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:`p-6 rounded-lg border ${t?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} sticky top-8`,children:[e.jsx("h2",{className:`text-lg font-semibold ${t?"text-white":"text-gray-900"} mb-4`,children:"Filtreler"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:`text-sm font-medium ${t?"text-white":"text-gray-900"} mb-3`,children:"Kategori"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"category",value:"all",checked:c==="all",onChange:a=>n(a.target.value),className:"text-blue-600 focus:ring-blue-500"}),e.jsxs("span",{className:`ml-2 text-sm ${t?"text-gray-300":"text-gray-700"}`,children:["Tüm Kategoriler (",d.length,")"]})]}),j.map(a=>{const l=d.filter(i=>i.category_id===a.id).length;return e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"category",value:a.id,checked:c===a.id,onChange:i=>n(i.target.value),className:"text-blue-600 focus:ring-blue-500"}),e.jsxs("span",{className:`ml-2 text-sm ${t?"text-gray-300":"text-gray-700"}`,children:[a.name," (",l,")"]})]},a.id)})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:`text-sm font-medium ${t?"text-white":"text-gray-900"} mb-3`,children:"Fiyat Aralığı"}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"number",value:r[0],onChange:a=>x([parseInt(a.target.value)||0,r[1]]),className:`w-20 px-2 py-1 text-sm border rounded ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,placeholder:"Min"}),e.jsx("span",{className:`${t?"text-gray-400":"text-gray-500"}`,children:"-"}),e.jsx("input",{type:"number",value:r[1],onChange:a=>x([r[0],parseInt(a.target.value)||5e3]),className:`w-20 px-2 py-1 text-sm border rounded ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,placeholder:"Max"}),e.jsx("span",{className:`text-sm ${t?"text-gray-400":"text-gray-500"}`,children:"₺"})]})})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:y,onChange:a=>m(a.target.checked),className:"text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:`ml-2 text-sm ${t?"text-gray-300":"text-gray-700"}`,children:"Sadece stokta olanlar"})]})}),e.jsx("button",{onClick:()=>{n("all"),x([0,5e3]),m(!1)},className:`w-full py-2 px-4 text-sm font-medium rounded-lg border ${t?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"Filtreleri Temizle"})]})}),e.jsxs("div",{className:"lg:col-span-3",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("p",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:[g.length," ürün bulundu"]})}),g.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-24 h-24 mx-auto mb-6",children:e.jsx("i",{className:`ri-search-line text-6xl ${t?"text-gray-600":"text-gray-400"}`})}),e.jsx("h3",{className:`text-lg font-medium ${t?"text-white":"text-gray-900"} mb-2`,children:"Ürün Bulunamadı"}),e.jsx("p",{className:`${t?"text-gray-400":"text-gray-600"} mb-4`,children:"Arama kriterlerinize uygun ürün bulunamadı. Filtreleri değiştirmeyi deneyin."}),e.jsx("button",{onClick:()=>{n("all"),x([0,5e3]),m(!1)},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700",children:"Filtreleri Temizle"})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(a=>e.jsx(k,{product:a},a.id))})]})]})]})})}export{M as default};
//# sourceMappingURL=CategoriesPage-CR-L9wYw-Bbs5jTT0.js.map
