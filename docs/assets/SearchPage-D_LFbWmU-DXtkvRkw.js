import{c as y,G as j,j as i,x as e,b as p}from"./index-KYK8dnUx.js";import{p as f,l as w}from"./products-C_o-9r8E-bG5aYGXO.js";import{d as N}from"./LoadingSpinner-Dvr4TF5D-BMUkWz4l.js";function $(){const[g]=y(),{isDarkMode:t}=j(),[n,m]=i.useState([]),[h,c]=i.useState(!0),[o,u]=i.useState("relevance"),l=g.get("q")||"";return i.useEffect(()=>{(()=>{if(c(!0),!l.trim()){m([]),c(!1);return}let a=[...f.filter(s=>{const r=l.toLowerCase().trim(),x=s.name.toLowerCase(),d=s.part_code?.toLowerCase()||"",b=s.description.toLowerCase();return x.includes(r)||d.includes(r)||b.includes(r)||d.replace(/[-\s]/g,"").includes(r.replace(/[-\s]/g,""))})];switch(o){case"price-low":a.sort((s,r)=>s.price-r.price);break;case"price-high":a.sort((s,r)=>r.price-s.price);break;case"name":a.sort((s,r)=>s.name.localeCompare(r.name,"tr"));break;case"newest":a.sort((s,r)=>new Date(r.created_at).getTime()-new Date(s.created_at).getTime());break;default:a.sort((s,r)=>{const x=s.name.toLowerCase().includes(l.toLowerCase())?1:0;return(r.name.toLowerCase().includes(l.toLowerCase())?1:0)-x})}m(a),c(!1)})()},[l,o]),h?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(N,{})}):e.jsx("div",{className:`min-h-screen ${t?"bg-gray-900":"bg-gray-50"}`,children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:`text-2xl font-bold mb-2 ${t?"text-white":"text-gray-900"}`,children:"Arama Sonuçları"}),l&&e.jsxs("p",{className:`text-sm ${t?"text-gray-300":"text-gray-600"}`,children:['"',e.jsx("span",{className:"font-medium",children:l}),'" için ',n.length," sonuç bulundu"]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("span",{className:`text-sm font-medium ${t?"text-gray-300":"text-gray-700"}`,children:"Filtreler:"}),e.jsx("button",{className:"px-3 py-1 text-xs bg-blue-100 text-blue-800 rounded-full hover:bg-blue-200 cursor-pointer whitespace-nowrap",children:"Tüm Kategoriler"}),e.jsx("button",{className:"px-3 py-1 text-xs bg-gray-100 text-gray-700 rounded-full hover:bg-gray-200 cursor-pointer whitespace-nowrap",children:"Stokta Var"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`text-sm ${t?"text-gray-300":"text-gray-700"}`,children:"Sırala:"}),e.jsxs("select",{value:o,onChange:a=>u(a.target.value),className:`px-3 py-1 text-sm border rounded-lg pr-8 cursor-pointer ${t?"bg-gray-800 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"} focus:ring-2 focus:ring-blue-500 focus:border-transparent`,children:[e.jsx("option",{value:"relevance",children:"İlgili"}),e.jsx("option",{value:"price-low",children:"Fiyat (Düşük-Yüksek)"}),e.jsx("option",{value:"price-high",children:"Fiyat (Yüksek-Düşük)"}),e.jsx("option",{value:"name",children:"İsim (A-Z)"}),e.jsx("option",{value:"newest",children:"En Yeni"})]})]})]}),n.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:n.map(a=>e.jsx(w,{product:a},a.id))}):l?e.jsxs("div",{className:`text-center py-12 ${t?"text-gray-300":"text-gray-600"}`,children:[e.jsx("i",{className:"ri-search-line text-4xl mb-4 opacity-50"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Sonuç bulunamadı"}),e.jsxs("p",{className:"text-sm mb-4",children:['"',e.jsx("span",{className:"font-medium",children:l}),'" için hiçbir ürün bulunamadı.']}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsx("p",{children:"Öneriler:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-left max-w-md mx-auto",children:[e.jsx("li",{children:"Yazım hatası olup olmadığını kontrol edin"}),e.jsx("li",{children:"Daha genel terimler kullanın"}),e.jsx("li",{children:"Parça kodunu tam olarak yazın"}),e.jsx("li",{children:"Farklı anahtar kelimeler deneyin"})]})]}),e.jsx(p,{to:"/categories",className:"inline-block mt-6 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer whitespace-nowrap",children:"Kategorilere Göz At"})]}):e.jsxs("div",{className:`text-center py-12 ${t?"text-gray-300":"text-gray-600"}`,children:[e.jsx("i",{className:"ri-search-line text-4xl mb-4 opacity-50"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Arama yapın"}),e.jsx("p",{className:"text-sm",children:"Parça kodu, ürün adı veya kategori ile arama yapabilirsiniz."})]}),!l&&e.jsxs("div",{className:"mt-12",children:[e.jsx("h2",{className:`text-lg font-semibold mb-4 ${t?"text-white":"text-gray-900"}`,children:"Popüler Aramalar"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["motor parçası","fren balata","amortisör","alternatör","hava filtresi","motor yağı","fren diski","lastik"].map(a=>e.jsx(p,{to:`/search?q=${encodeURIComponent(a)}`,className:`px-4 py-2 text-sm rounded-lg border cursor-pointer whitespace-nowrap ${t?"border-gray-600 text-gray-300 hover:bg-gray-800":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:a},a))})]})]})})}export{$ as default};
//# sourceMappingURL=SearchPage-D_LFbWmU-DXtkvRkw.js.map
